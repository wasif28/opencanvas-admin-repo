// import React from "react";
import React, { useState, useEffect } from "react";
import { NavLink, Link } from "react-router-dom";
import "./style.scss";
import { useHistory } from "react-router-dom";
import banner10 from "assets/img/userflow/Logout.png";

import { Nav } from "reactstrap";
// javascript plugin used to create scrollbars on windows
import PerfectScrollbar from "perfect-scrollbar";
import logo from "../../assets/img/logo.svg";
import routes from "routes.js";

var ps;

function Sidebar(props) {
  const history = useHistory();
  const sidebar = React.useRef();
  const [brandName, setbrandName] = useState();
  // verifies if routeName is the one active (in browser input)
  const activeRoute = (routeName) => {
    return props.location.pathname.indexOf(routeName) > -1 ? "active" : "";
  };

  const logoutK = () => {
    localStorage.setItem("openCanvasToken",null);
    history.push("/adminlogin");
  };

  React.useEffect(() => {
    if (navigator.platform.indexOf("Win") > -1) {
      ps = new PerfectScrollbar(sidebar.current, {
        suppressScrollX: true,
        suppressScrollY: false,
      });
    }
    return function cleanup() {
      if (navigator.platform.indexOf("Win") > -1) {
        ps.destroy();
      }
    };
  });

  const getBrand = () => {
    routes.map((prop, key) => {
      if (window.location.href.indexOf(prop.layout + prop.path) !== -1) {
        // brandname = prop.name;
        setbrandName(prop.name);
      }
      return null;
    });
  };

useEffect(() => {
  getBrand()
}, )

  return (
    <div
      className="sidebar"
      data-color={props.bgColor}
      data-active-color={props.activeColor}
    >
      <div className="logo">
        <Link to="/admin/dashboard" className="simple-text logo-mini ">
          <div className="logo-img">
            <img className="px-2" src={logo} alt="react-logo" />
          </div>
        </Link>
      </div>
      <div className="sidebar-wrapper" ref={sidebar}>
        <Nav>
          <li>
            <Link to={`/admin/dashboard`} className={"nav-link "+(brandName === "Dashboard"?"active":"")}>
              <svg
                width="24"
                height="24"
                viewBox="0 0 27 27"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="iconns"
              >
                <path
                  d="M26.272 11.7437C26.2714 11.7431 26.2708 11.7425 26.2702 11.7418L15.2563 0.728394C14.7869 0.258728 14.1627 0 13.4988 0C12.8349 0 12.2107 0.258522 11.741 0.728188L0.732953 11.7361C0.729245 11.7398 0.725537 11.7437 0.721829 11.7474C-0.242221 12.717 -0.240573 14.2902 0.726567 15.2573C1.16842 15.6994 1.752 15.9554 2.37596 15.9822C2.4013 15.9847 2.42684 15.9859 2.45259 15.9859H2.89156V24.0912C2.89156 25.695 4.19653 27 5.80081 27H10.1098C10.5465 27 10.9008 26.6459 10.9008 26.209V19.8545C10.9008 19.1226 11.4961 18.5273 12.228 18.5273H14.7696C15.5015 18.5273 16.0968 19.1226 16.0968 19.8545V26.209C16.0968 26.6459 16.4509 27 16.8878 27H21.1968C22.8011 27 24.106 25.695 24.106 24.0912V15.9859H24.5131C25.1768 15.9859 25.8009 15.7274 26.2708 15.2577C27.239 14.289 27.2394 12.7131 26.272 11.7437Z"
                />
              </svg>
              <p className="">HOME</p>
            </Link>
          </li>
          <li>
            <Link to={`/admin/artists`} className={"nav-link "+(brandName === "Artists"?"active":"")}>
              {/* <svg width="24" height="24">
                <path d="M11.829 11.5609C13.4172 11.5609 14.7925 10.9912 15.9162 9.86733C17.0399 8.74362 17.6096 7.36868 17.6096 5.78025C17.6096 4.19237 17.0399 2.81725 15.916 1.69317C14.7921 0.569639 13.417 0 11.829 0C10.2405 0 8.86559 0.569639 7.74188 1.69335C6.61816 2.81707 6.04834 4.19218 6.04834 5.78025C6.04834 7.36868 6.61816 8.7438 7.74206 9.86751C8.86596 10.991 10.2411 11.5609 11.829 11.5609Z" />
                <path d="M21.9435 18.4547C21.9111 17.9871 21.8455 17.477 21.749 16.9383C21.6516 16.3955 21.5262 15.8825 21.376 15.4136C21.2209 14.9289 21.01 14.4502 20.7493 13.9916C20.4786 13.5155 20.1608 13.1009 19.8041 12.7598C19.4311 12.403 18.9744 12.116 18.4463 11.9067C17.9201 11.6985 17.3369 11.5931 16.7131 11.5931C16.4681 11.5931 16.2311 11.6936 15.7736 11.9915C15.492 12.1752 15.1625 12.3876 14.7949 12.6225C14.4805 12.8228 14.0546 13.0105 13.5285 13.1804C13.0153 13.3465 12.4942 13.4307 11.9798 13.4307C11.4655 13.4307 10.9445 13.3465 10.4308 13.1804C9.90524 13.0107 9.47934 12.823 9.16532 12.6227C8.80112 12.39 8.47153 12.1775 8.18571 11.9913C7.72868 11.6934 7.49156 11.5929 7.24656 11.5929C6.62254 11.5929 6.03954 11.6985 5.51347 11.9069C4.98577 12.1158 4.52892 12.4028 4.15557 12.76C3.79907 13.1013 3.48101 13.5157 3.21075 13.9916C2.95019 14.4502 2.73925 14.9287 2.58398 15.4137C2.43402 15.8827 2.30859 16.3955 2.21118 16.9383C2.11468 17.4762 2.04913 17.9865 2.01672 18.4553C1.98486 18.9145 1.96875 19.3911 1.96875 19.8725C1.96875 21.1253 2.367 22.1395 3.15234 22.8875C3.92797 23.6256 4.95427 24.0001 6.20231 24.0001H17.7584C19.0065 24.0001 20.0324 23.6258 20.8082 22.8875C21.5937 22.1401 21.992 21.1257 21.992 19.8723C21.9918 19.3888 21.9755 18.9118 21.9435 18.4547Z" />
              </svg> */}
              <svg width="24" height="24" viewBox="0 0 27 27" className="iconns" xmlns="http://www.w3.org/2000/svg">
                <g clipPath="url(#clip0_1223_203)">
                  <path d="M7.96278 22.2011C7.96278 20.4561 6.54377 19.0371 4.79876 19.0371C3.05375 19.0371 1.63474 20.4561 1.63474 22.2011V23.7831C1.63474 24.6553 0.872109 25.4179 0 25.4179V26.9999H3.21675C5.83387 26.9999 7.96278 24.8183 7.96278 22.2011Z"/>
                  <path d="M13.2395 6.62285C12.8173 6.73639 12.5665 7.1687 12.6802 7.59153C12.7892 7.99832 13.2067 8.26589 13.6489 8.15077C14.074 8.03645 14.3207 7.60202 14.2082 7.1821C14.0939 6.75775 13.657 6.51026 13.2395 6.62285Z"/>
                  <path d="M8.7648 12.6261C9.18456 12.7375 9.61888 12.4932 9.73347 12.0669C9.8477 11.6407 9.59346 11.2107 9.17497 11.0982H9.17417C8.94979 11.0377 8.88915 11.0832 8.73047 11.135C8.73943 11.6117 8.74571 12.1063 8.74903 12.6184C8.75483 12.6201 8.75889 12.6246 8.7648 12.6261Z"/>
                  <path d="M17.4833 19.4071C17.3689 18.9817 16.9323 18.7359 16.5146 18.8486C16.0852 18.9641 15.8437 19.4023 15.9554 19.8173C16.0682 20.2383 16.4977 20.487 16.9241 20.3765C17.3462 20.263 17.5971 19.8307 17.4833 19.4078V19.4071Z"/>
                  <path d="M20.116 9.58451C20.4243 9.27554 20.4243 8.7734 20.116 8.46517C19.8077 8.15678 19.3064 8.15551 18.9967 8.46517C18.6885 8.7734 18.6885 9.27627 18.9975 9.58451C19.3049 9.89195 19.807 9.89195 20.116 9.58451Z"/>
                  <path d="M15.1282 1.59286C12.5297 1.68651 10.1444 2.71371 8.24316 4.01782C8.45626 5.46841 8.60682 7.27396 8.68697 9.50697C8.98312 9.47164 9.28602 9.49036 9.58265 9.57014C10.8503 9.90906 11.6017 11.2085 11.2612 12.4761C10.9742 13.5483 10.0057 14.2358 8.97316 14.2358C8.89717 14.2358 8.82144 14.213 8.74545 14.2057C8.73591 15.4709 8.70722 16.7227 8.65264 17.9181C9.46284 18.2547 10.0961 18.7031 10.5096 19.2839C11.3469 20.4604 11.1237 21.84 11.0356 22.2355C10.7423 23.5493 11.5169 24.8867 12.844 25.1423C13.594 25.286 14.348 25.357 15.0965 25.357C21.6022 25.357 27.0526 20.0726 26.9996 13.4047C26.9442 6.64195 21.092 1.36816 15.1282 1.59286ZM17.8774 7.34694C18.8043 6.42152 20.3091 6.42152 21.2345 7.34694C22.1599 8.27237 22.1599 9.77791 21.2345 10.7033V10.7041C20.3092 11.6279 18.8036 11.628 17.8782 10.7041C16.9535 9.77786 16.9535 8.27237 17.8774 7.34694ZM11.1523 8.00042C10.8156 6.74989 11.5499 5.43735 12.83 5.09516C14.0884 4.75762 15.3962 5.50844 15.736 6.77294C16.0758 8.03797 15.3261 9.33954 14.0583 9.67893C12.7937 10.0179 11.4921 9.27135 11.1523 8.00042ZM17.3336 21.9041C16.0692 22.2428 14.7666 21.4897 14.4276 20.2263C14.0878 18.9613 14.8375 17.6597 16.1053 17.3203C17.3785 16.9816 18.6731 17.7338 19.0113 18.9989C19.3521 20.2658 18.5987 21.5658 17.3336 21.9041ZM23.4862 15.7514C23.1473 17.019 21.8448 17.7692 20.5802 17.4291C19.316 17.0907 18.5612 15.7931 18.9024 14.5232C19.2448 13.2439 20.5551 12.5095 21.8084 12.8454C23.073 13.1845 23.8254 14.4884 23.4862 15.7514Z"/>
                  <path d="M21.3989 14.3739C20.9845 14.2621 20.5458 14.5036 20.4302 14.9331C20.316 15.3593 20.5702 15.7893 20.9887 15.9018C21.4219 16.0137 21.846 15.7599 21.9582 15.3426C22.0709 14.9216 21.8199 14.4867 21.3989 14.3739Z"/>
                  <path d="M7.16226 14.2908C7.16447 14.0262 7.1718 13.7656 7.1718 13.4998C7.1718 7.36568 6.76006 0 4.79879 0C2.83753 0 2.42578 7.36568 2.42578 13.4998C2.42578 13.7656 2.43311 14.0262 2.43533 14.2908H7.16226Z"/>
                  <path d="M4.79858 17.455C5.62281 17.455 6.38697 17.6851 7.06307 18.0561C7.09724 17.3462 7.12334 16.615 7.14159 15.873H2.45557C2.47381 16.615 2.49986 17.3462 2.53409 18.0561C3.21019 17.685 3.97435 17.455 4.79858 17.455Z"/>
                </g>
                <defs>
                  <clipPath id="clip0_1223_203">
                  <rect width="24" height="24" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
              <p className="">ARTISTS</p>
            </Link>
          </li>
          <li>
            <Link to={`/admin/nfts`} className={"nav-link "+(brandName === "NFTs"?"active":"")}>
              <svg width="24" height="24" className="iconns">
                <path d="M13.5755 4.94971H2.62582C1.18162 4.94971 0 6.13133 0 7.57553V16.4245C0 17.8687 1.18162 19.0504 2.62582 19.0504H13.5755C15.0197 19.0504 16.2013 17.8687 16.2013 16.4245V7.57553C16.2013 6.10507 15.0197 4.94971 13.5755 4.94971Z" />
                <path d="M22.0569 6.39386C21.8993 6.42012 21.7418 6.49889 21.6105 6.57766L17.5142 8.9409V15.0328L21.6367 17.396C22.3982 17.8424 23.3435 17.5798 23.7899 16.8184C23.9212 16.582 24 16.3194 24 16.0306V7.91683C24 6.94528 23.0809 6.15753 22.0569 6.39386Z" />
              </svg>
              <p className="">NFTS</p>
            </Link>
          </li>
          <li>
            <Link to={`/admin/Royalties`} className={"nav-link "+(brandName === "Royalties"?"active":"")}>
              <svg
                width="20"
                className="iconns"
                height="20"
                viewBox="0 0 25 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  d="M20.2144 18.2849C20.2144 17.7626 20.0236 17.3105 19.6419 16.9289C19.2602 16.5472 18.8082 16.3563 18.2859 16.3563C17.7635 16.3563 17.3115 16.5472 16.9298 16.9289C16.5481 17.3105 16.3573 17.7626 16.3573 18.2849C16.3573 18.8072 16.5481 19.2592 16.9298 19.6409C17.3115 20.0226 17.7635 20.2134 18.2859 20.2134C18.8082 20.2134 19.2602 20.0226 19.6419 19.6409C20.0236 19.2592 20.2144 18.8072 20.2144 18.2849ZM8.643 6.71345C8.643 6.19113 8.45215 5.73912 8.07045 5.35742C7.68876 4.97573 7.23675 4.78488 6.71443 4.78488C6.1921 4.78488 5.74009 4.97573 5.3584 5.35742C4.9767 5.73912 4.78585 6.19113 4.78585 6.71345C4.78585 7.23577 4.9767 7.68778 5.3584 8.06948C5.74009 8.45117 6.1921 8.64202 6.71443 8.64202C7.23675 8.64202 7.68876 8.45117 8.07045 8.06948C8.45215 7.68778 8.643 7.23577 8.643 6.71345ZM24.0716 18.2849C24.0716 19.882 23.5066 21.2455 22.3765 22.3756C21.2465 23.5056 19.883 24.0706 18.2859 24.0706C16.6888 24.0706 15.3252 23.5056 14.1952 22.3756C13.0652 21.2455 12.5001 19.882 12.5001 18.2849C12.5001 16.6878 13.0652 15.3242 14.1952 14.1942C15.3252 13.0642 16.6888 12.4992 18.2859 12.4992C19.883 12.4992 21.2465 13.0642 22.3765 14.1942C23.5066 15.3242 24.0716 16.6878 24.0716 18.2849ZM22.6251 1.89202C22.6251 2.09291 22.5598 2.28376 22.4293 2.46456L6.51855 23.6789C6.32771 23.94 6.07157 24.0706 5.75014 24.0706H3.33943C3.07826 24.0706 2.85226 23.9752 2.66141 23.7843C2.47056 23.5935 2.37514 23.3675 2.37514 23.1063C2.37514 22.9054 2.44043 22.7146 2.57101 22.5338L18.4817 1.31948C18.6726 1.05831 18.9287 0.927734 19.2501 0.927734H21.6609C21.922 0.927734 22.148 1.02316 22.3389 1.21401C22.5297 1.40485 22.6251 1.63086 22.6251 1.89202ZM12.5001 6.71345C12.5001 8.31055 11.9351 9.67411 10.8051 10.8041C9.67508 11.9342 8.31152 12.4992 6.71443 12.4992C5.11733 12.4992 3.75377 11.9342 2.62374 10.8041C1.49372 9.67411 0.928711 8.31055 0.928711 6.71345C0.928711 5.11635 1.49372 3.75279 2.62374 2.62277C3.75377 1.49275 5.11733 0.927734 6.71443 0.927734C8.31152 0.927734 9.67508 1.49275 10.8051 2.62277C11.9351 3.75279 12.5001 5.11635 12.5001 6.71345Z"
                />
              </svg>
              <p className="">Royalties</p>
            </Link>
          </li>

          <div className="logout edit-page-profile">
            <div className="logo-imgss d-flex justify-content-start align-items-center">
              <div className="images-right">
                {/* <Link to={`/admin/editprofile`}><img src={banner9} className="pad-rihgt" alt="" /></Link> */}
              </div>
              <div className="text-l"></div>
              <button className="btn shadow-none" onClick={()=>logoutK()}>
                <img src={banner10} className="pad-rihgt" alt="" />
                <span className="grey">Logout</span>
              </button>
            </div>
            {/* </a> */}
          </div>
        </Nav>
      </div>
    </div>
  );
}

export default Sidebar;
